{"version":3,"sources":["images/logo.svg","components/HeaderInfo/HeaderInfo.jsx","components/LoginHeader/LoginHeader.jsx","components/RegisterHeader/RegisterHeader.jsx","components/Header/Header.jsx","contexts/CurrentUserContext.js","components/Card/Card.jsx","components/Main/Main.jsx","components/Footer/Footer.jsx","hooks/useForm.js","components/Login/Login.jsx","components/Register/Register.jsx","components/PopupWithForm/PopupWithForm.jsx","components/PopupEditAvatar/PopupEditAvatar.jsx","components/PopupEditProfile/PopupEditProfile.jsx","components/PopupAddPlace/PopupAddPlace.jsx","components/PopupDeleteConfirm/PopupDeleteConfirm.jsx","components/PopupImage/PopupImage.jsx","utils/api.js","components/ProtectedRoute/ProtectedRoute.jsx","components/PopupInfo/PopupInfo.jsx","components/PopupSuccess/PopupSuccess.jsx","images/popupInfoImage_success.png","components/PopupFail/PopupFail.jsx","images/popupInfoImage_fail.png","utils/auth.js","components/App.jsx","reportWebVitals.js","index.js"],"names":["HeaderInfo","headerEmail","signOut","className","to","onClick","LoginHeader","RegisterHeader","Header","loggedIn","src","logo","alt","exact","path","element","CurrentUserContext","React","createContext","Card","url","title","likes","owner","id","onCardClick","onRemoveButtonClick","onCardLike","currentUser","useContext","isOwn","_id","elementRemoveButtonClassName","isLiked","some","i","elementLikeButtonClassName","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","name","about","map","card","link","Footer","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","evt","input","target","value","validationMessage","closest","checkValidity","Login","handleSignIn","onSubmit","e","preventDefault","noValidate","placeholder","email","onChange","minLength","maxLength","required","password","disabled","Register","handleSignUp","currentPath","PopupWithForm","isOpen","onClose","buttonValue","children","isDisabled","formRef","useRef","useEffect","current","reset","ref","PopupEditAvatar","onUpdateAvatar","buttonText","PopupEditProfile","onUpdateUser","PopupAddPlace","PopupDeleteConfirm","onDelete","ImagePopup","api","headers","checkResult","res","ok","json","Promise","reject","status","this","_url","_headers","fetch","credentials","then","method","body","JSON","stringify","console","log","cardId","Accept","ProtectedRoute","Component","component","props","PopupInfo","popupType","popupInfoImage","popupInfoTitle","PopupSuccess","PopupFail","auth","result","_getResponseData","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeleteConfirmPopupOpen","setIsDeleteConfirmPopupOpen","isFailPopupOpen","setIsFailPopupOpen","isSuccessPopupOpen","setIsSuccessPopupOpen","setCards","selectedCard","setSelectCard","setCurrentUser","deletingCardId","setDeletingCardId","buttonAvatarText","setButtonAvatarText","buttonProfileText","setButtonProfileText","buttonAddPlaceText","setButtonAddPlaceText","buttonDeleteText","setButtonDeleteText","setLoggedIn","currentUserEmail","setCurrentUserEmail","history","createBrowserHistory","location","pathname","setCurrentPath","navigate","useNavigate","closeAllPopups","handlePopupClosing","classList","contains","handleCardDelete","deleteCard","state","filter","c","catch","err","finally","promises","getUserInfo","getInitialCards","all","userData","initialCards","tokenCheck","getContent","handleEscClick","key","document","addEventListener","removeEventListener","Provider","authorise","register","statusCode","removeLike","newCard","addLike","onCardDelete","editAvatar","editProfile","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b6a2d266.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\r\n\r\nexport default function HeaderInfo({ headerEmail, signOut }) {\r\n  return (\r\n    <div className=\"header__info\">\r\n      <p className=\"header__email\">{headerEmail}</p>\r\n      <p to=\"/sign-in\" className=\"header__link link\" onClick={signOut}>\r\n        Выйти\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function LoginHeader() {\r\n  return (\r\n    <div className=\"header__sign\">\r\n      <Link to=\"/sign-in\" className=\"header__link link\">\r\n        Войти\r\n      </Link>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function RegisterHeader() {\r\n  return (\r\n    <div className=\"header__sign\">\r\n      <Link to=\"/sign-up\" className=\"header__link  link\">\r\n        Зарегистрироваться\r\n      </Link>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { Routes, Route} from 'react-router-dom';\r\nimport logo from '../../images/logo.svg'\r\nimport HeaderInfo from '../HeaderInfo/HeaderInfo';\r\nimport LoginHeader from '../LoginHeader/LoginHeader';\r\nimport RegisterHeader from '../RegisterHeader/RegisterHeader';\r\n\r\nexport default function Header({ headerEmail, signOut, loggedIn }) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"лого сайта 'Место'\" className=\"header__logo\" />\r\n      <Routes>\r\n        {loggedIn && <Route exact path=\"/\" element={<HeaderInfo headerEmail={headerEmail} signOut={signOut} />} />}\r\n        <Route exact path=\"/sign-up\" element={<LoginHeader />} />\r\n        <Route exact path=\"/sign-in\" element={<RegisterHeader />} />\r\n      </Routes>\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nexport default function Card({\r\n  url,\r\n  alt,\r\n  title,\r\n  likes,\r\n  owner,\r\n  id,\r\n  onCardClick,\r\n  onRemoveButtonClick,\r\n  onCardLike,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const handleClick = () => {\r\n    onCardClick(url, title);\r\n  };\r\n\r\n  const handLikeClick = () => {\r\n    onCardLike(likes, id);\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    onRemoveButtonClick(id);\r\n  };\r\n\r\n  const isOwn = owner === currentUser._id;\r\n\r\n  const elementRemoveButtonClassName = `button element__remove-button ${\r\n    isOwn ? \"element__remove-button_visible\" : \"element__remove-button_hidden\"\r\n  }`;\r\n\r\n  const isLiked = likes.some((i) => {\r\n    return i === currentUser._id;\r\n    \r\n  });\r\n  const elementLikeButtonClassName = `button element__like-button ${\r\n    isLiked && \"element__like-button_active\"\r\n  }`;\r\n\r\n  return (\r\n    <article className=\"element\">\r\n      <button\r\n        type=\"button\"\r\n        className={elementRemoveButtonClassName}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <img\r\n        src={url}\r\n        alt={alt}\r\n        className=\"element__image\"\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"element__description\">\r\n        <h2 className=\"element__title\">{title}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={elementLikeButtonClassName}\r\n            onClick={handLikeClick}\r\n          ></button>\r\n          <p className=\"element__like-counter\">{likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport Card from '../Card/Card';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nexport default function Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  onRemoveButtonClick,\r\n  cards,\r\n  onCardLike,\r\n  }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__image-container\" onClick={onEditAvatar}>\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"фотография обладателя профиля\"\r\n            className=\"profile__image\"\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__edit-button button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {cards.map((card) => (\r\n          <Card\r\n            url={card.link}\r\n            alt={card.name}\r\n            title={card.name}\r\n            likes={card.likes}\r\n            owner={card.owner}\r\n            id={card._id}\r\n            key={card._id}\r\n            onCardClick={onCardClick}\r\n            onRemoveButtonClick={onRemoveButtonClick}\r\n            onCardLike={onCardLike}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Messto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React, { useCallback } from \"react\";\r\n\r\nexport function useForm() {\r\n  const [values, setValues] = React.useState({});\r\n\r\n  const handleChange = (evt) => {\r\n    const input = evt.target;\r\n    const value = input.value;\r\n    const name = input.name;\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  return { values, handleChange, setValues };\r\n}\r\n\r\nexport function useFormWithValidation() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  const handleChange = (evt) => {\r\n    const input = evt.target;\r\n    const value = input.value;\r\n    const name = input.name;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: input.validationMessage });\r\n    setIsValid(input.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, handleChange, resetForm, errors, isValid };\r\n}\r\n","import React from \"react\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nexport default function Login({ handleSignIn }) {\r\n  const { values, handleChange, errors, isValid } = useFormWithValidation();\r\n\r\n  // useEffect(() => {\r\n  //   resetForm({});\r\n  // }, [resetForm]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleSignIn(values);\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"title login__title\">Вход</h2>\r\n      <form\r\n        name=\"login-form\"\r\n        className=\"form login__form\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <input\r\n          name=\"email\"\r\n          id=\"email-input\"\r\n          type=\"email\"\r\n          className=\"form__input login__input input input_type_email\"\r\n          placeholder=\"Email\"\r\n          value={values.email || \"\"}\r\n          onChange={handleChange}\r\n          minLength=\"4\"\r\n          maxLength=\"40\"\r\n          required\r\n        />\r\n        <span className=\"form__input-error email-input-error\">\r\n          {errors.email}\r\n        </span>\r\n        <input\r\n          name=\"password\"\r\n          id=\"password-input\"\r\n          type=\"password\"\r\n          className=\"form__input login__input input input_type_password\"\r\n          placeholder=\"Пароль\"\r\n          value={values.password || \"\"}\r\n          onChange={handleChange}\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n        />\r\n        <span className=\"form__input-error password-input-error\">\r\n          {errors.password}\r\n        </span>\r\n        <button\r\n          type=\"submit\"\r\n          disabled={!isValid}\r\n          className={`login__submit-button form__submit ${\r\n            !isValid && \"popup__submit-button_inactive\"\r\n          }`}\r\n        >\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nexport default function Register({ handleSignUp, currentPath }) {\r\n  const { values, handleChange, errors, isValid } = useFormWithValidation();\r\n\r\n  // useEffect(() => {\r\n  //   resetForm({});\r\n  // }, [resetForm]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleSignUp(values);\r\n  }\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <h2 className=\"title register__title\">Регистрация</h2>\r\n      <form\r\n        name=\"register-form\"\r\n        className=\"form register__form\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <input\r\n          name=\"email\"\r\n          id=\"email-input\"\r\n          type=\"email\"\r\n          className=\"register__input form__input input input_type_email\"\r\n          placeholder=\"Email\"\r\n          value={values.email || \"\"}\r\n          onChange={handleChange}\r\n          minLength=\"4\"\r\n          maxLength=\"40\"\r\n          required\r\n        />\r\n        <span className=\"form__input-error email-input-error\">\r\n          {errors.email}\r\n        </span>\r\n        <input\r\n          name=\"password\"\r\n          id=\"password-input\"\r\n          type=\"password\"\r\n          className=\"register__input form__input input input_type_password\"\r\n          placeholder=\"Пароль\"\r\n          value={values.password || \"\"}\r\n          onChange={handleChange}\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n        />\r\n        <span className=\"form__input-error password-input-error\">\r\n          {errors.password}\r\n        </span>\r\n        <button\r\n          disabled={!isValid}\r\n          type=\"submit\"\r\n          className={`register__submit-button form__submit ${\r\n            !isValid && \"popup__submit-button_inactive\"\r\n          }`}\r\n        >\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n      <Link to=\"/sign-in\" className=\"link register__tip\">\r\n        Уже зарегистрированы? Войти\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useEffect } from \"react\";\r\n\r\nexport default function PopupWithForm({\r\n  title,\r\n  name,\r\n  isOpen,\r\n  onClose,\r\n  buttonValue,\r\n  children,\r\n  onSubmit,\r\n  isDisabled = false,\r\n}) {\r\n  const formRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    formRef.current.reset();\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${name} ${isOpen && \"popup_opened\"}`}\r\n      onClick={onClose}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close-button button\"></button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form\r\n          ref={formRef}\r\n          name={name}\r\n          className=\"form\"\r\n          onSubmit={onSubmit}\r\n          noValidate\r\n        >\r\n          {children}\r\n          <button\r\n            type=\"submit\"\r\n            className={`popup__save-button popup__submit-button form__submit ${\r\n              isDisabled && \"popup__submit-button_inactive\"\r\n            }`}\r\n            disabled={isDisabled}\r\n          >\r\n            {buttonValue}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nexport default function PopupEditAvatar({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateAvatar,\r\n  buttonText,\r\n}) {\r\n  const { values, handleChange, resetForm, errors, isValid } =\r\n    useFormWithValidation();\r\n\r\n  useEffect(() => {\r\n    resetForm({});\r\n  }, [isOpen, resetForm]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(values);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={\"Обновить аватар\"}\r\n      name={\"edit-avatar\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n      isDisabled={!isValid}\r\n    >\r\n      <input\r\n        name=\"avatar\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_avatar form__input\"\r\n        id=\"avatar-input\"\r\n        placeholder=\"Обновить аватар\"\r\n        value={values.avatar || \"\"}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <span className=\"form__input-error avatar-input-error\">\r\n        {errors.avatar || \"\"}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nexport default function PopupEditProfile({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateUser,\r\n  buttonText,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const { values, handleChange, resetForm, errors, isValid } =\r\n    useFormWithValidation();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser(values);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      resetForm(currentUser, {}, true);\r\n    }\r\n  }, [currentUser, isOpen, resetForm]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={\"Редактировать профиль\"}\r\n      name={\"edit-profile\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n      isDisabled={!isValid}\r\n    >\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_name form__input\"\r\n        id=\"name-input\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        placeholder=\"Ваше имя\"\r\n        value={values.name || \"\"}\r\n        onChange={handleChange}\r\n      />\r\n      <span className=\"form__input-error name-input-error\">\r\n        {errors.name || \"\"}\r\n      </span>\r\n      <input\r\n        name=\"about\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_about form__input\"\r\n        id=\"about-input\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        placeholder=\"Расскажите о себе\"\r\n        value={values.about || \"\"}\r\n        onChange={handleChange}\r\n      />\r\n      <span className=\"form__input-error about-input-error\">\r\n        {errors.about || \"\"}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nexport default function PopupAddPlace({\r\n  isOpen,\r\n  onClose,\r\n  onAddPlace,\r\n  buttonText,\r\n}) {\r\n  const { values, handleChange, resetForm, errors, isValid } =\r\n    useFormWithValidation();\r\n\r\n  useEffect(() => {\r\n    resetForm();\r\n  }, [isOpen, resetForm]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace(values);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={\"Новое место\"}\r\n      name={\"add-place\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n      isDisabled={!isValid}\r\n    >\r\n      <input\r\n        name=\"title\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_title form__input\"\r\n        id=\"title-input\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        value={values.title || \"\"}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <span className=\"form__input-error title-input-error\">\r\n        {errors.title || \"\"}\r\n      </span>\r\n      <input\r\n        name=\"link\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_link form__input\"\r\n        id=\"link-input\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        value={values.link || \"\"}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <span className=\"form__input-error link-input-error\">\r\n        {errors.link || \"\"}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function PopupDeleteConfirm({\r\n  isOpen,\r\n  onClose,\r\n  onDelete,\r\n  buttonText,\r\n}) {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onDelete();\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={\"Вы уверены?\"}\r\n      name={\"delete-confirm\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonValue={buttonText}\r\n      onSubmit={handleSubmit}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ImagePopup({ url, title, onClose }) {\r\n  return (\r\n    <div\r\n      className={`popup popup-image ${title && \"popup_opened\"}`}\r\n      onClick={onClose}\r\n    >\r\n      <div className=\"popup__container popup-image__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-button popup-image__close-button button\"\r\n        ></button>\r\n        <figure className=\"popup-image__figure\">\r\n          <img className=\"popup-image__image\" src={url} alt={title} />\r\n          <figcaption className=\"popup-image__caption\">{title}</figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","class Api {\r\n  constructor( {url, headers} ) {\r\n    this._url = url;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._url + '/users/me', {\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n    })\r\n      .then(this.checkResult);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(this._url + '/cards', {\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n    })\r\n      .then(this.checkResult);\r\n  }\r\n\r\n  editProfile(name, about) {\r\n    return fetch(this._url + '/users/me', {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n      body: JSON.stringify({name, about})\r\n    })\r\n      .then(this.checkResult);\r\n  }\r\n\r\n  addCard(title, link) {\r\n    console.log(title, link);\r\n    return fetch(this._url + '/cards', {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n      body: JSON.stringify({name: title, link: link})\r\n    })\r\n      .then(this.checkResult);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(this._url + '/cards/' + cardId, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n    })\r\n      .then(this.checkResult);\r\n  }\r\n\r\n  addLike(cardId) {\r\n    return fetch(this._url + '/cards/' + cardId + '/likes', {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n    })\r\n      .then(this.checkResult);\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return fetch(this._url + '/cards/' + cardId + '/likes', {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n    })\r\n      .then(this.checkResult);\r\n  }\r\n\r\n  editAvatar(avatar) {\r\n    return fetch(this._url + '/users/me/avatar', {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n      body: JSON.stringify({avatar})\r\n    })\r\n      .then(this.checkResult);\r\n  }\r\n\r\n  checkResult = res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n  url:'https://api.domainnames.students.nomoredomains.rocks',\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nexport default function ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    props.loggedIn ? <Component {...props} /> : <Navigate to=\"/sign-in\" /> );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default function PopupInfo({\r\n  popupType,\r\n  popupInfoImage,\r\n  popupInfoTitle,\r\n  isOpen,\r\n  onClose,\r\n}) {\r\n  return (\r\n    <div\r\n      className={`popup popup-info popup-info__${popupType} ${\r\n        isOpen && \"popup_opened\"\r\n      }`}\r\n      onClick={onClose}\r\n    >\r\n      <div className=\"popup__container popup-info__container\">\r\n        <button type=\"button\" className=\"popup__close-button button\"></button>\r\n        <img\r\n          src={popupInfoImage}\r\n          alt=\"иконка для попапа\"\r\n          className=\"popup-info__image\"\r\n        />\r\n        <h2 className=\"popup-info__title\">{popupInfoTitle}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupInfo from \"../PopupInfo/PopupInfo\";\r\nimport infoImage from '../../images/popupInfoImage_success.png'\r\n\r\n\r\nexport default function PopupSuccess({ isOpen, onClose }) {\r\n  return (\r\n    <PopupInfo\r\n      popupType=\"success\"\r\n      popupInfoImage={infoImage}\r\n      popupInfoTitle=\"Вы успешно зарегистрировались!\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport PopupInfo from \"../PopupInfo/PopupInfo\";\r\nimport infoImage from \"../../images/popupInfoImage_fail.png\";\r\n\r\nexport default function PopupFail({ isOpen, onClose }) {\r\n  return (\r\n    <PopupInfo\r\n      popupType=\"fail\"\r\n      popupInfoImage={infoImage}\r\n      popupInfoTitle=\"Что-то пошло не&nbsp;так! Попробуйте ещё раз!\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","class Auth {\r\n  constructor({ url, headers }) {\r\n    this._url = url;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _getResponseData(result) {\r\n    if (!result.ok) {\r\n      return Promise.reject(`Ошибка: ${result.status}`);\r\n    }\r\n    return result.json();\r\n  }\r\n\r\n  authorise(email, password) {\r\n    return fetch(`${this._url}/signin`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      credentials: \"include\",\r\n      body: JSON.stringify({\r\n        email: email,\r\n        password: password,\r\n      }),\r\n    }).then((result) => this._getResponseData(result));\r\n  }\r\n\r\n  register(email, password) {\r\n    return fetch(`${this._url}/signup`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      credentials: \"include\",\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      }),\r\n    }).then((result) => this._getResponseData(result));\r\n  }\r\n\r\n  getContent() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: \"include\",\r\n    }).then((result) => this._getResponseData(result));\r\n  }\r\n\r\n  signOut = () => {\r\n    return fetch(`${this._url}/signout`, {\r\n      method: \"DELETE\",\r\n      credentials: \"include\",\r\n    }).then((result) => {\r\n      this._getResponseData(result)\r\n    });\r\n  };\r\n}\r\n\r\nconst auth = new Auth({\r\n  url: 'https://api.domainnames.students.nomoredomains.rocks',\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default auth;","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport Header from \"./Header/Header\";\r\nimport Main from \"./Main/Main\";\r\nimport Footer from \"./Footer/Footer\";\r\nimport Login from \"./Login/Login\";\r\nimport Register from \"./Register/Register\";\r\nimport PopupEditAvatar from \"./PopupEditAvatar/PopupEditAvatar\";\r\nimport PopupEditProfile from \"./PopupEditProfile/PopupEditProfile\";\r\nimport PopupAddPlace from \"./PopupAddPlace/PopupAddPlace\";\r\nimport PopupDeleteConfirm from \"./PopupDeleteConfirm/PopupDeleteConfirm\";\r\nimport ImagePopup from \"./PopupImage/PopupImage\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport api from \"../utils/api\";\r\nimport ProtectedRoute from \"./ProtectedRoute/ProtectedRoute\";\r\nimport PopupSuccess from \"./PopupSuccess/PopupSuccess\";\r\nimport PopupFail from \"./PopupFail/PopupFail\";\r\nimport { Routes, Route, useNavigate, Navigate } from \"react-router-dom\";\r\nimport auth from \"../utils/auth.js\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isDeleteConfirmPopupOpen, setIsDeleteConfirmPopupOpen] =\r\n    useState(false);\r\n  const [isFailPopupOpen, setIsFailPopupOpen] = useState(false);\r\n  const [isSuccessPopupOpen, setIsSuccessPopupOpen] = useState(false);\r\n  const [cards, setCards] = useState([]);\r\n  const [selectedCard, setSelectCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [deletingCardId, setDeletingCardId] = useState(\"\");\r\n  const [buttonAvatarText, setButtonAvatarText] = useState(\"Сохранить\");\r\n  const [buttonProfileText, setButtonProfileText] = useState(\"Сохранить\");\r\n  const [buttonAddPlaceText, setButtonAddPlaceText] = useState(\"Создать\");\r\n  const [buttonDeleteText, setButtonDeleteText] = useState(\"Да\");\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [currentUserEmail, setCurrentUserEmail] = useState(\"\");\r\n  const history = createBrowserHistory();\r\n  const [currentPath, setCurrentPath] = useState(history.location.pathname);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleRemoveButtonClick = (id) => {\r\n    setDeletingCardId(id);\r\n    setIsDeleteConfirmPopupOpen(true);\r\n  };\r\n\r\n  const handleCardClick = (url, title) => {\r\n    setSelectCard({ url, title });\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDeleteConfirmPopupOpen(false);\r\n    setIsFailPopupOpen(false);\r\n    setIsSuccessPopupOpen(false);\r\n\r\n    setSelectCard({});\r\n  };\r\n\r\n  const handlePopupClosing = (e) => {\r\n    if (\r\n      e.target.classList.contains(\"popup\") ||\r\n      e.target.classList.contains(\"popup__close-button\")\r\n    ) {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n\r\n  const handleUpdateUser = ({ name, about }) => {\r\n    setButtonProfileText(\"Сохранение...\");\r\n    api\r\n      .editProfile(name, about)\r\n      .then((res) => setCurrentUser(res))\r\n      .then(() => {\r\n        closeAllPopups();\r\n        setButtonProfileText(\"Сохранить\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      });\r\n  };\r\n\r\n  const handleUpdateAvatar = ({ avatar }) => {\r\n    setButtonAvatarText(\"Сохранение...\");\r\n    api\r\n      .editAvatar(avatar)\r\n      .then((res) => setCurrentUser(res))\r\n      .then(() => {\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      })\r\n      .finally(() => setButtonAvatarText(\"Сохранить\"));\r\n  };\r\n\r\n  const handleAddPlaceSubmit = ({ title, link }) => {\r\n    setButtonAddPlaceText(\"Сохранение...\");\r\n    api\r\n      .addCard(title, link)\r\n      .then((newCard) => setCards([newCard, ...cards]))\r\n      .then(() => {\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      })\r\n      .finally(() => setButtonAddPlaceText(\"Создать\"));\r\n  };\r\n\r\n  const handleCardDelete = () => {\r\n    setButtonDeleteText(\"Удаление...\");\r\n    api\r\n      .deleteCard(deletingCardId)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== deletingCardId));\r\n      })\r\n      .then(() => {\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        return [];\r\n      })\r\n      .finally(() => setButtonDeleteText(\"Да\"));\r\n  };\r\n\r\n  const handleCardLike = (likes, id) => {\r\n    const isLiked = likes.some((i) => i === currentUser._id);\r\n\r\n    if (isLiked) {\r\n      api\r\n        .removeLike(id)\r\n        .then((newCard) => {\r\n          setCards((state) => state.map((c) => (c._id === id ? newCard : c)));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n\r\n          return [];\r\n        });\r\n    } else {\r\n      api\r\n        .addLike(id)\r\n        .then((newCard) => {\r\n          setCards((state) => state.map((c) => (c._id === id ? newCard : c)));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n\r\n          return [];\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    auth\r\n      .signOut()\r\n      .then(() => {\r\n        setLoggedIn(false);\r\n        setCurrentUserEmail(\"\");\r\n        navigate(\"/\");\r\n      })\r\n      .catch((e) => console.log(`${e} при выходе из приложения`));\r\n  };\r\n\r\n  const handleSignIn = ({ email, password }) => {\r\n    auth\r\n      .authorise(email, password)\r\n      .then((res) => {\r\n        setLoggedIn(true);\r\n        setCurrentUserEmail(email);\r\n        setCurrentUser(res);\r\n        navigate(\"/\");\r\n      })\r\n      .catch((e) => {\r\n        console.log(`${e} при авторизации`);\r\n        setIsFailPopupOpen(true);\r\n      });\r\n  };\r\n\r\n  const handleSignUp = ({ email, password }) => {\r\n    auth\r\n      .register(email, password)\r\n      .then((res) => {\r\n        if (res.statusCode !== 400) {\r\n          setIsSuccessPopupOpen(true);\r\n\r\n          navigate(\"/sign-in\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n\r\n        setIsFailPopupOpen(true);\r\n\r\n        return [];\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      const promises = [api.getUserInfo(), api.getInitialCards()];\r\n\r\n      Promise.all(promises)\r\n        .then(([userData, initialCards]) => {\r\n          setCurrentUser(userData);\r\n          setCards(initialCards);\r\n        })\r\n        .catch((result) => console.log(`${result} при загрузке данных`));\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  const tokenCheck = useCallback(() => {\r\n    auth\r\n      .getContent()\r\n      .then((res) => {\r\n        if (res) {\r\n          setLoggedIn(true);\r\n          setCurrentUserEmail(res.email);\r\n          navigate(\"/\");\r\n        } else {\r\n          setIsFailPopupOpen(true);\r\n        }\r\n      })\r\n      .catch((e) => console.log(`${e} при проверке токена`));\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    tokenCheck();\r\n  }, [tokenCheck]);\r\n\r\n  useEffect(() => {\r\n    const handleEscClick = (e) => {\r\n      if (e.key === \"Escape\") {\r\n        closeAllPopups();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", handleEscClick);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscClick);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const { pathname } = history.location;\r\n    setCurrentPath(pathname);\r\n  }, [history.location]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header\r\n        headerEmail={currentUserEmail}\r\n        signOut={handleSignOut}\r\n        loggedIn={loggedIn}\r\n      />\r\n\r\n      <Routes>\r\n        <Route\r\n          exact\r\n          path=\"/sign-in\"\r\n          element={\r\n            <Login handleSignIn={handleSignIn} currentPath={currentPath} />\r\n          }\r\n        ></Route>\r\n\r\n        <Route\r\n          exact\r\n          path=\"/sign-up\"\r\n          element={\r\n            <Register handleSignUp={handleSignUp} currentPath={currentPath} />\r\n          }\r\n        ></Route>\r\n\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          element={\r\n            <ProtectedRoute\r\n              loggedIn={loggedIn}\r\n              component={Main}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              onRemoveButtonClick={handleRemoveButtonClick}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n            />\r\n          }\r\n        />\r\n\r\n        <Route\r\n          path=\"*\"\r\n          element={loggedIn ? <Navigate to=\"/\" /> : <Navigate to=\"/sign-in\" />}\r\n        />\r\n      </Routes>\r\n\r\n      <Footer />\r\n\r\n      <PopupEditAvatar\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={handlePopupClosing}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        buttonText={buttonAvatarText}\r\n      />\r\n\r\n      <PopupEditProfile\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={handlePopupClosing}\r\n        onUpdateUser={handleUpdateUser}\r\n        buttonText={buttonProfileText}\r\n      />\r\n\r\n      <PopupAddPlace\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={handlePopupClosing}\r\n        onAddPlace={handleAddPlaceSubmit}\r\n        buttonText={buttonAddPlaceText}\r\n      />\r\n\r\n      <ImagePopup\r\n        onClose={handlePopupClosing}\r\n        url={selectedCard.url}\r\n        title={selectedCard.title}\r\n      />\r\n\r\n      <PopupDeleteConfirm\r\n        isOpen={isDeleteConfirmPopupOpen}\r\n        onClose={handlePopupClosing}\r\n        onDelete={handleCardDelete}\r\n        buttonText={buttonDeleteText}\r\n      />\r\n\r\n      <PopupSuccess isOpen={isSuccessPopupOpen} onClose={handlePopupClosing} />\r\n      <PopupFail isOpen={isFailPopupOpen} onClose={handlePopupClosing} />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n\r\n  \r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}